[gcode_macro G28]
rename_existing: G28.0
gcode:
    {% set park_x = params.X|default(printer.toolhead.axis_maximum.x - 4)|float %}

    STATUS_HOMING
    G28.0

    G90
    G0 X{park_x} F3000

    {% if printer.idle_timeout.state != "Printing" %}
    STATUS_READY
    {% endif %}
